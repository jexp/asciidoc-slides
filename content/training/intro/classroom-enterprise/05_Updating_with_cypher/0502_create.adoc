[canvas-image="./img/acid-sw.jpg"]
== ACID

[role="canvas-caption", position="center"]
ACID?

++++
<div class="img-ref">
derivative of <a href="https://www.flickr.com/photos/somegeekintn/3458948437">"Medicine Cabinet"</a> by <a href="https://www.flickr.com/photos/somegeekintn/">Casey Fleser</a> / <a href="http://creativecommons.org/licenses/by/2.0/">CC BY</a>
<div>
++++

== Transactions

[options="step"]
* Every modifying cypher statement runs in a transaction.
* In the Neo4j-Shell you can use `begin`, `commit` and `rollback` to control transactional scope.
* The Cypher-HTTP endpoint also allows transaction control.

== Creating nodes

[source,cypher,options="step"]
----
CREATE (h:Human {name: "Gina"});
----

[source,cypher,options="step"]
----
MATCH (h:Human)
WHERE h.name="Gina"
RETURN h;
----

== Editing properties

[source,cypher,options="step"]
----
MATCH (h:Human)
WHERE h.name="Gina"
SET h.emal = "gina@smith.com"
RETURN h;
----

=== Ups, misspelt `email`

== Removing properties
[source,cypher,options="step"]
----
MATCH (h:Human)
WHERE h.name="Gina"
SET h.email = h.emal
REMOVE h.emal
RETURN h;
----

== Creating relationships
[source,cypher,options="step"]
----
MATCH (h:Human), (p:Project)-[:BELONGS_TO]->(d:Dept)
WHERE h.name="Gina" AND p.name = "Project X"
MERGE (p)-[m:MEMBER {role: "developer"}]->(h)
MERGE (d)-[e:EMPLOYEE {hoursPerWeek: 40}]->(h)
RETURN h, m, p, d, e;
----

